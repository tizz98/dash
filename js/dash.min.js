function weatherIcon(e){switch(parseInt(e)){case 0:return"wi-tornado";case 1:case 2:return"wi-hurricane";case 3:case 4:return"wi-thunderstorm";case 5:case 6:case 7:return"wi-rain-mix";case 8:return"wi-rain-wind";case 9:return"wi-sprinkle";case 10:return"wi-hail";case 11:case 12:return"wi-showers";case 13:case 14:case 15:case 16:return"wi-snow";case 17:case 18:return"wi-hail";case 19:return"wi-dust";case 20:case 21:return"wi-fog";case 22:return"wi-smoke";case 23:case 24:return"wi-strong-wind";case 25:return"wi-snowflake-cold";case 26:return"wi-cloudy";case 27:return"wi-night-cloudy";case 28:return"wi-day-cloudy";case 29:return"wi-night-partly-cloudy";case 30:return"wi-day-sunny-overcast";case 31:return"wi-stars";case 32:return"wi-day-sunny";case 33:return"wi-night-clear";case 34:return"wi-day-sunny";case 35:return"wi-rain-mix";case 36:return"wi-hot";case 37:return"wi-thunderstorm";case 38:case 39:return"wi-storm-showers";case 40:return"wi-showers";case 41:case 42:case 43:return"wi-snow";case 44:return"wi-cloudy";case 45:return"wi-storm-showers";case 46:return"wi-snow";case 47:return"wi-thunderstorm";case 3200:return"wi-alien"}}function getNews(){$.get("http://content.guardianapis.com/search?api-key=626v3ysvkd46htvw9rj5sm4p&show-fields=shortUrl,headline,standfirst&order-by=newest&section=world",function(e){for(var t=e.response.results,r=document.getElementById("news"),n="",a=0;2>=a;a++)n+='<div class="story"><h4><a href="'+t[a].fields.shortUrl+'" target="blank">'+t[a].fields.headline+"</a></h4>",n+=t[a].fields.standfirst+"</div><br>";r.innerHTML=n}),setTimeout(getNews,36e5)}function updateClock(){var e,t,r,n,a=new Date;t=a.getHours(),r=a.getMinutes(),n=a.getSeconds(),parseInt(t)<10&&(t="0"+t),parseInt(r)<10&&(r="0"+r),parseInt(n)<10&&(n="0"+n),e=t+" "+r+" "+n,document.getElementById("time").innerHTML=e,setTimeout(updateClock,1e3)}function getWeather(e){if(void 0==e)var e=document.getElementById("loc2").value;var t="https://query.yahooapis.com/v1/public/yql?q=SELECT * FROM weather.forecast WHERE woeid in (select woeid from geo.places(1) where text='"+e+"') and u='f'&format=json";$.getJSON(t,function(e){for(var t=e.query.results,r=t.channel.item.forecast,n=0;2>=n;n++)if(0===n){var a=r[0].high,o=r[0].low,c=r[0].code,s=r[0].text;setToday(a,o,s,c)}else if(1===n){var a=r[1].high,o=r[1].low,c=r[1].code,s=r[1].text;setTmw(a,o,s,c)}else if(2===n){var a=r[2].high,o=r[2].low,c=r[2].code,s=r[2].text,i=r[2].day;setDat(a,o,s,c,i)}})}function setToday(e,t,r,n){var a=document.querySelector("#today .high"),o=document.querySelector("#today .low"),c=document.querySelector("#today .icon"),s=document.querySelector("#today .cond"),i='<i class ="wi '+weatherIcon(n)+'"></i>';a.innerHTML=e,o.innerHTML=t,c.innerHTML=i,s.innerHTML=r}function setTmw(e,t,r,n){var a=document.querySelector("#tmw .high"),o=document.querySelector("#tmw .low"),c=document.querySelector("#tmw .icon"),s=document.querySelector("#tmw .cond"),i='<i class ="wi '+weatherIcon(n)+'"></i>';a.innerHTML=e,o.innerHTML=t,c.innerHTML=i,s.innerHTML=r}function setDat(e,t,r,n,a){var o=document.querySelector("#dat .high"),c=document.querySelector("#dat .low"),s=document.querySelector("#dat .icon"),i=document.querySelector("#dat .cond"),u=document.getElementById("dat_name"),d='<i class ="wi '+weatherIcon(n)+'"></i>';o.innerHTML=e,c.innerHTML=t,s.innerHTML=d,i.innerHTML=r,u.innerHTML=a}var today=new Date,day=today.getDate(),month=today.getMonth();month+=1;var year=today.getFullYear();switch(month){case 1:month="January";break;case 2:month="February";break;case 3:month="March";break;case 4:month="April";break;case 5:month="May";break;case 6:month="June";break;case 7:month="July";break;case 8:month="August";break;case 9:month="September";break;case 10:month="October";break;case 11:month="November";break;case 12:month="December"}document.getElementById("month").innerHTML=month,document.getElementById("day").innerHTML=day,document.getElementById("year").innerHTML=year,getNews(),updateClock(),$(document).ready(function(){$.get("http://ipinfo.io",function(e){var t=e.city+", "+e.region;getWeather(t)},"jsonp")});